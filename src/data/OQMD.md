# OQMD 入門（The Open Quantum Materials Database）

## 参考ドキュメント

- OQMD 公式サイト
  - https://oqmd.org/
- OQMD REST API（公式ドキュメント）
  - https://static.oqmd.org/static/docs/restful.html
- OQMD 論文（データ内容・計算方針の一次情報）
  - https://www.nature.com/articles/npjcompumats201510
- DB一括ダウンロード（MySQL dump）
  - https://oqmd.org/download/


## 1. OQMD とは

OQMD（Open Quantum Materials Database）は、DFT（第一原理計算）による材料の熱力学・構造関連データを大規模に収録したオープンな材料データベースです。OQMD 公式サイトでは、組成や材料IDで検索して構造・エネルギー・相安定性などを閲覧できます。

OQMD の中核的な目的は、形成エネルギーや凸包（convex hull）などの熱力学量に基づき、材料探索や相安定性評価をデータ駆動で行えるようにすることです。


## 2. 何ができるか

- 候補材料の相安定性スクリーニング（安定相/準安定相、energy above hull）
- 形成エネルギー・反応エネルギーを用いた材料探索（合成可能性の目安）
- 構造データ（格子、原子座標）取得 → DFT/MLの入力作成へ接続
- 既知構造（ICSD由来など）や代表的プロトタイプ構造を起点に、組成展開した候補探索

OQMD は ICSD 由来の構造や、一般的に現れやすい結晶プロトタイプに基づく “装飾（decorations）” を含む高スループット計算データとして整理されています。 


## 3. OQMD のデータに含まれる代表的な情報

閲覧・取得できる情報は、材料ごとに以下が中心です（実際に取得できるフィールドは API/サイト表示に従う）。

| 種類 | 代表例 | 研究上の意味 |
|---|---|---|
| 構造 | 格子定数、原子座標、空間群など | 再計算、欠陥/表面/界面モデル作成の起点 |
| エネルギー | 全エネルギー、形成エネルギーなど | 相安定性、反応エネルギーの基礎 |
| 相安定性指標 | convex hull、energy above hull など | 0 K 近似での安定/準安定の目安 |

注意
- これらは基本的に 0 K の DFT 近似に基づくため、有限温度（フォノン、磁気、配置エントロピー）や合成プロセス（薄膜、急冷など）の効果は別途検討が必要です。 


## 4. 相安定性の基本（OQMDで頻出の量）

OQMD を材料探索に使う上で最重要の2つは、形成エネルギーと凸包距離（energy above hull）です。

4.1 形成エネルギー（formation energy, eV/atom）
化合物 A_aB_b... の形成エネルギー（1原子あたり）は概念的に

E_f = [E(A_aB_b...) - a μ_A - b μ_B - ...] / (a + b + ...)

で表されます（μ_i は元素参照相の化学ポテンシャル）。

4.2 Energy above hull（凸包からの距離）
同一化学系で、相分離も許したときに到達可能な最小形成エネルギー（凸包）からの差

E_above_hull = E_f - E_hull(x)

- 0：0 K 近似で熱力学的に安定（凸包上）
- >0：熱力学的には分解の駆動力がある（ただし準安定相が実在することもある）

OQMD 論文は、データベースの構成とともに、形成エネルギーを中心とする熱力学評価の枠組みを詳述しています。


## 5. データへのアクセス方法

5.1 Web UI（まずはここから）
- materials の探索・クエリの入口が用意されています。

5.2 REST API（自動収集・集計に向く）
- OQMD は REST API を公開しており、SQLデータベースを丸ごとダウンロードせずに検索・取得できます。
- API 検索 UI の入口も案内されています（フォームベース検索）。

5.3 一括ダウンロード（ローカル解析・大規模処理に向く）
- MySQL ダンプとして全データが配布されています（容量が大きいので運用設計が必要）。
- qmpy は OQMD のバックエンド／関連ツールとしてドキュメントが提供されています。


## 6. 注意点

6.1 DFT条件の違いは “系統誤差” になる
- 交換相関汎関数、+U、磁気状態、カットオフ、k点などが違うデータを混ぜると、形成エネルギーや相安定性の比較が崩れます。
- OQMD内では一貫性を保つよう設計されていますが、他DBや自前DFTとの統合時は「条件の整合」を最優先します。

6.2 0 K 凸包は“第一スクリーニング”
- 実験合成性は、温度・圧力・雰囲気・プロセス、さらに拡散や核生成の動力学で変化します。
- OQMDの相安定性指標は強力ですが、最終判断はフォノンや固溶、磁気などの追加評価で補強します。

6.3 プロトタイプ展開の意味
- OQMD には多数の元素・二元・三元のプロトタイプ構造計算が含まれます。これは「よく現れる骨格構造」に対する網羅探索として有効です。


## 7. ライセンスと引用

- OQMD のデータは CC BY 4.0 ライセンスで案内されています。
- 研究で利用した場合は、OQMDが指定する引用（npj Computational Materials 2015 など）に従って引用します。


## 8. ワークフロー

1) Web UI で候補を目視確認（組成、安定性、構造）
2) REST API で候補群を自動取得（組成条件・元素条件でフィルタ）
3) 得た構造を自前計算へ（同じDFT条件で再最適化、重要物性を再計算）
4) 必要に応じて、相安定性を自前データで再構築（対象元素集合を明示）
