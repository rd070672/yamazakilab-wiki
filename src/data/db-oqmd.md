# OQMD（The Open Quantum Materials Database）

## 参考ドキュメント

- OQMD 公式サイト
  - https://oqmd.org/
- OQMD REST API（公式ドキュメント）
  - https://static.oqmd.org/static/docs/restful.html
- OQMD 論文（データ内容・計算方針の一次情報）
  - https://www.nature.com/articles/npjcompumats201510


OQMD（The Open Quantum Materials Database）は、高スループット第一原理計算（主に DFT）に基づき、膨大な仮想構造を含む材料の熱力学的性質・結晶構造情報を体系的に蓄積したデータベースである。相安定性解析や材料設計に特化した設計思想を持ち、Materials Project などと並ぶ代表的な計算材料データ基盤である。

## 1. 基本コンセプトと特徴

OQMD は、Northwestern 大学 Wolverton グループにより構築された高スループット DFT データベースであり、以下の点に特徴がある。

- 熱力学的性質（形成エネルギー、相安定性）に強くフォーカスしていること
- 実験結晶構造（ICSD など）だけでなく、仮想構造（prototype 構造の装飾など）を大量に含むこと
- 相図生成、凸包解析、GCLP（Grand Canonical Linear Programming）など「相安定性・生成相予測」に直結した解析機能を備えること

このため、OQMD は特に「この組成・構造が熱力学的にどの程度安定か」「どのような生成相が競合するか」を評価する用途に適している。

## 2. 提供されるデータの種類

OQMD が提供する代表的なデータ種別をまとめる。

| 種類 | 代表量 | 説明 |
|---|---|---|
| 構造情報 | 結晶構造、空間群、格子定数 | ICSD 由来構造と仮想構造を含む |
| 熱力学 | 形成エネルギー、エネルギー凸包からの距離（メタ安定度） | 相安定性・生成相予測の中核量 |
| 状態図情報 | 相図、安定相の組み合わせ | 所望組成における平衡相の推定 |
| 電子構造の一部 | 全エネルギー、しばしばバンドギャップなど | 物性予測の指標として利用 |
| 解析メタ情報 | 安定度、GCLP 結果、計算条件 | 計算プロトコルの追跡に利用 |

OQMD のデータは qmpy という Python ベースのバックエンドで管理されており、形成エネルギー、凸包距離、メタ安定度などが一貫したスキーマで扱われる。

## 3. データ生成パイプラインと qmpy

OQMD のバックエンド qmpy は、以下の流れでデータを生成・解析するよう設計されている。

1. 構造ソースの取り込み  
   - ICSD 由来の実験構造  
   - 一般的 prototype 構造の装飾による仮想構造  

2. 第一原理計算  
   - 主に VASP による構造最適化  
   - 統一された DFT 設定（擬ポテンシャル、カットオフ、k 点メッシュなど）

3. 形成エネルギーの計算  
   各化合物の形成エネルギーを
   $$
   \Delta H_f = E_{\mathrm{compound}} - \sum_i x_i \mu_i
   $$
   により定義し、元素基準状態（$\mu_i$）からのエネルギー差として評価する。

4. 凸包解析とメタ安定度の評価  
   組成空間におけるエネルギー凸包を構成し、各相の安定・準安定を判定する。

5. 付加的解析（GCLP、相図生成など）  
   特定条件下での平衡相組み合わせや生成相セットを決定する。

この一連の処理により、「どの構造がどの程度安定か」「どの相が同時に存在し得るか」を系統的に評価できる。

## 4. 相安定性とエネルギー凸包

OQMD における相安定性評価は、エネルギー凸包に基づき定量化される。ある相の凸包からの距離を $E_{\mathrm{hull}}$ とすると、

- $E_{\mathrm{hull}} = 0$ の相は、その組成で熱力学的に最も安定な相である
- $E_{\mathrm{hull}} > 0$ の相は、他相への分解が熱力学的に有利であるが、$E_{\mathrm{hull}}$ が小さい場合には準安定相として合成可能性を持つ場合がある

形式的には、  
$$
E_{\mathrm{hull}}(X) = E_{\mathrm{compound}}(X) - E_{\mathrm{convex\, hull}}(X)
$$
で定義され、$E_{\mathrm{convex\, hull}}(X)$ は同一組成点 $X$ における凸包上のエネルギーを表す。

OQMD では、qmpy 解析ツールを用いてこの凸包構築とメタ安定度評価を自動化し、相図の生成や生成相予測を可能にしている。

## 5. GCLP（Grand Canonical Linear Programming）と生成相予測

OQMD の特徴的な機能の一つが GCLP である。これは、ある化学ポテンシャル条件（例：特定元素のリッチ／ポア条件）において、どの相組み合わせが最も安定となるかを線形計画問題として解く枠組みである。

GCLP の目的関数は概略的に
$$
\min_{\{n_j\}} \sum_j n_j E_j
$$
という形を取り、組成・化学ポテンシャル・質量保存の制約条件下で平衡相の組み合わせを求める。ここで $n_j$ は相 $j$ のモル数、$E_j$ は自由エネルギーの近似としての DFT エネルギーである。

この枠組みにより、単なる「1 物質の安定性」だけでなく、「多相共存状態としてどの相が現れるか」を包括的に扱うことが可能になる。

## 6. OQMD の Web インターフェースと API

OQMD は Web インターフェースと RESTful API の双方を提供しており、以下のような利用が想定されている。

- ブラウザからの利用  
  - 組成検索（Search Compositions）  
  - Materials Query によるフィルタ検索  
  - Phase Diagram ツールによる相図生成  
  - GCLP ツールによる生成相予測

- RESTful API／Python ツールキットによる利用  
  - HTTP リクエストでデータを取得し、独自解析や機械学習の入力データとして利用  
  - Python ラッパ（qmpy / OQMD Toolkits など）によるスクリプトベースの利用  

API を用いれば、材料設計ワークフローの中に OQMD データ取得を組み込み、構造最適化コードや機械学習モデルと直結させることができる。

## 7. 他データベースとの位置づけ

OQMD は、Materials Project や AFLOW と並ぶ「アメリカ発の大規模計算材料データベース」としてしばしば言及される。特に次のような観点で特徴的である。

- 相安定性・相図に特化した解析機能（凸包・GCLP）が充実していること
- 仮想構造を含むデータ点数が非常に多く、広い組成空間をカバーしていること
- DFT 形成エネルギーの精度検証に重点を置いたベンチマークが行われていること

一方で、バンド構造可視化や GUI ベースの操作性などは Materials Project に比べてやや簡素であることが多く、用途に応じてデータベースを使い分けることが現実的な選択となる。

## 8. 注意点

OQMD の形成エネルギーは、標準的な GGA（しばしば GGA+U を含む）による DFT で系統的に計算されている。これにより、広範な材料群にわたる相対比較が可能になっている一方で、以下のような一般的制約が存在する。

- 強相関系・局在電子系では形成エネルギーやバンドギャップに系統誤差が残る可能性があること
- 0 K でのエネルギーに基づくため、有限温度でのエントロピー効果（振動・配向・混合など）は明示的には含まれないこと
- 仮想構造由来のデータでは、実験的合成の難易度や動力学的安定性については別途検討が必要であること

これらは計算材料データ一般に共通する注意点であり、OQMD に限らず「どの範囲まで DFT データを信用し、どこから先は追加検証が必要か」を見極める指標として理解しておくことが重要である。

## 9. 応用例

OQMD は、国際的には次のようなテーマで広く利用されている。

- 高スループット材料探索（新規化合物の安定性予測、候補生成）  
- 機械学習による形成エネルギー予測モデルの学習データ  
- 反応経路・生成相ネットワークの解析（材料安定性ネットワーク）  
- 高エントロピー材料や多元系合金の相安定性スクリーニング

国内でも、材料インフォマティクス関連の解説記事や講習会、研究プロジェクトにおいて OQMD が頻繁に紹介されており、Materials Project と並んで状態図・相安定性解析の基盤データベースとして活用されている。

## まとめ

OQMD は、高スループット DFT により生成された形成エネルギーと構造情報を中心とした大規模データベースであり、相安定性・相図・生成相予測に重点を置いた設計がなされている。エネルギー凸包と GCLP による解析により、単一物質の安定性だけでなく、多相平衡や生成相ネットワークまでを射程に収めた材料設計が可能となる。Materials Project や他のデータベースと併用することで、計算科学・実験・データ科学を統合した材料研究の強力な基盤となると考えられる。
